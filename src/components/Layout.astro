---
import LanguageSwitcher from "./LanguageSwitcher.astro";
const { lang, title } = Astro.props;
---

<html lang={lang}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title} | Mountain B&B</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Lora:wght@400;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="/src/styles/global.css" />
  </head>
  <body class="bg-bg text-brand font-sans antialiased">
    <header
      class="border-b border-brand/10 bg-white/70 backdrop-blur-sm sticky top-0 z-10"
    >
      <nav class="max-w-5xl mx-auto p-4 flex justify-between items-center">
        <a href={`/${lang}/`} class="text-xl font-bold font-serif text-brand">
          Mountain B&B
        </a>

        <div class="flex items-center gap-4">
          <LanguageSwitcher />

          <button
            class="md:hidden text-brand hover:text-brand/80 transition-colors p-1"
            id="mobile-menu-toggle"
            aria-label="Toggle Navigation Menu"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
          </button>
        </div>
      </nav>

      <div
        id="mobile-menu-links"
        class="hidden md:flex md:items-center md:gap-6
              absolute top-full left-0 w-full bg-white/90 backdrop-blur-sm shadow-lg
              md:static md:w-auto md:bg-transparent md:shadow-none"
      >
        <div
          class="max-w-5xl mx-auto p-4 flex flex-col md:flex-row gap-4 md:gap-6"
        >
          <a
            href={`/${lang}/`}
            class="text-brand/80 hover:text-brand transition-colors text-lg md:text-base"
            >Home</a
          >
          <a
            href={`/${lang}/gallery`}
            class="text-brand/80 hover:text-brand transition-colors text-lg md:text-base"
            >Gallery</a
          >
          <a
            href={`/${lang}/apartments`}
            class="text-brand/80 hover:text-brand transition-colors text-lg md:text-base"
            >Apartments</a
          >
          <a
            href={`/${lang}/rooms`}
            class="text-brand/80 hover:text-brand transition-colors text-lg md:text-base"
            >Rooms</a
          >
          <a
            href={`/${lang}/info`}
            class="text-brand/80 hover:text-brand transition-colors text-lg md:text-base"
            >Info</a
          >
          <a
            href={`/${lang}/contacts`}
            class="text-brand/80 hover:text-brand transition-colors text-lg md:text-base"
            >Contacts</a
          >
        </div>
      </div>
    </header>

    <main class="max-w-5xl mx-auto p-4 sm:p-6 lg:p-8">
      <slot />
    </main>

    <footer class="mt-16 py-8 border-t border-brand/10">
      <div class="max-w-5xl mx-auto px-4 text-center text-brand/60">
        <p>
          &copy; {new Date().getFullYear()} Mountain B&B. All rights reserved.
        </p>
        <p class="text-sm">A traditional home in the mountains.</p>
      </div>
    </footer>
    <script is:inline>
      const toggle = document.getElementById("mobile-menu-toggle");
      const menu = document.getElementById("mobile-menu-links");

      if (toggle && menu) {
        toggle.addEventListener("click", () => {
          // Toggles the 'hidden' class on the menu container
          menu.classList.toggle("hidden");
        });
      }
    </script>
  </body>
</html>
